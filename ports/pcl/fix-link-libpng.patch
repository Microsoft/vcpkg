From dda9c7811e9d7900cafbddd0d4350d5e45dd912c Mon Sep 17 00:00:00 2001
From: raahilsha-z <raahil.sha@zimaging.io>
Date: Wed, 7 Jul 2021 15:57:00 -0400
Subject: [PATCH] fix link libpng

---
 io/CMakeLists.txt | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/io/CMakeLists.txt b/io/CMakeLists.txt
index ab918424e..0de0ad2e2 100644
--- a/io/CMakeLists.txt
+++ b/io/CMakeLists.txt
@@ -338,6 +338,10 @@ PCL_ADD_LIBRARY(${LIB_NAME} COMPONENT ${SUBSYS_NAME} SOURCES ${srcs} ${incs} ${c
 
 target_include_directories(${LIB_NAME} PUBLIC "${CMAKE_CURRENT_SOURCE_DIR}/include")
 
+if(PNG_FOUND)
+  target_link_libraries("${LIB_NAME}" ${PNG_LIBRARIES})
+endif()
+
 target_link_libraries("${LIB_NAME}" pcl_common pcl_io_ply)
 if(VTK_FOUND)
   if(${VTK_VERSION} VERSION_LESS 9.0)
@@ -351,10 +355,6 @@ if(VTK_FOUND)
   endif()
 endif()
 
-if(PNG_FOUND)
-  target_link_libraries("${LIB_NAME}" ${PNG_LIBRARIES})
-endif()
-
 if(LIBUSB_FOUND)
   target_link_libraries("${LIB_NAME}" libusb::libusb)
 endif()
-- 
2.32.0.windows.1

